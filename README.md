# Проект домашней работы skypro
## Описание проекта
Этот проект содержит набор утилитных функций для обработки и форматирования банковских операций.

## Функции позволяют:

+ маскировать номера карт и счетов,

+  форматировать даты,

+ фильтровать операции по статусу,

+ сортировать операции по дате.

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/RomahaEV/skypro-homework.git
```
2. Установите зависимости:
```
pip install -r requirements.txt
```
## Описание функций и примеры
1. ### masks.get_mask_card_number(card_number: str) -> str
#### Маскирует номер карты: показываются первые 6 и последние 4 символа, остальное заменяется *. Результат форматируется группами по 4 символа.
### Пример
```
print(get_mask_card_number("2842878893689012"))
# => "2842 87** **** 9012"

print(get_mask_card_number("2842 8788 9368 9012"))
# => "2842 87** **** 9012"
```
2. ### masks.get_mask_account(account_number: str) -> str
#### Маскирует номер счёта: остаются только последние 4 символа, перед ними добавляются две звёздочки (**XXXX).
### Пример
```
print(get_mask_account("40817810099910004312"))
# => "**4312"
```
3. ### widget.mask_account_card(source_string: str) -> str
#### Разбирает входную строку вида "<описание> <номер>". Если в описании есть слово «счет» (регистр не важен) — применяет маску для счета, иначе — маску для карты. Возвращает строку "<описание> <замаскированный номер>".
### Пример
```
mask_account_card("Visa Classic 2842878893689012")
# => "Visa Classic 2842 87** **** 9012"

mask_account_card("Счет 40817810099910004312")
# => "Счет **4312"
```
4. ### widget.get_date(date_string: str) -> str
#### Преобразует строку даты в формате YYYY-MM-DDTHH:MM:SS... в формат DD.MM.YYYY. Функция использует срезы; для корректных входов возвращает ожидаемый результат.
### Пример
```
get_date("2024-03-11T02:26:18.671407")
# => "11.03.2024"
```
5. ### processing.filter_by_state(operations: list, state: str = "EXECUTED") -> list
#### Фильтрует список словарей операций по полю state. По умолчанию возвращаются операции со статусом EXECUTED.
### Пример
```
ops = [{"id":1,"state":"EXECUTED"},{"id":2,"state":"CANCELED"}]
filter_by_state(ops)
# => [{"id":1,"state":"EXECUTED"}]
```
6. ### processing.sort_by_date(operations: list) -> list
#### Сортирует список операций по ключу date в порядке убывания (новые в начале). Возвращает новый список.
### Пример
```
ops = [
    {"id":1,"date":"2024-03-11T02:26:18"},
    {"id":2,"date":"2024-03-12T10:00:00"},
]
sort_by_date(ops)
# => операции с id 2 затем id 1
```
## Тестирование
#### Тесты размещены в каталоге tests/. Покрывают типичные случаи, граничные ситуации и обработку некорректных данных.
+ #### Запуск тестов
```
pip install pytest 
pytest 
```
+ #### Рекомендации:
  + #### Добавьте pytest-cov для анализа покрытия:
```
pip install pytest-cov
pytest --cov
```
